#!/bin/bash

# Git Pre-Commit Hook
# Prevents direct commits to main branch

BRANCH=$(git branch --show-current)

if [ "$BRANCH" = "main" ]; then
    echo ""
    echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo "â•‘              â›” COMMIT TO MAIN BLOCKED                       â•‘"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo ""
    echo "âŒ Direct commits to main branch are not allowed!"
    echo ""
    echo "ğŸ“š Follow the professional workflow:"
    echo ""
    echo "1. Create a feature branch:"
    echo "   ./scripts/new-feature.sh your-feature-name"
    echo ""
    echo "2. Make your changes on the feature branch"
    echo ""
    echo "3. Merge safely:"
    echo "   ./scripts/merge-feature.sh"
    echo ""
    echo "ğŸ“– Read: docs/DEVELOPMENT_WORKFLOW.md"
    echo ""
    exit 1
fi

echo "âœ… Commit allowed on branch: $BRANCH"
exit 0

