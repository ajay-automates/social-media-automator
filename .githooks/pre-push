#!/bin/bash

# Git Pre-Push Hook
# Warns before pushing to main branch

while read local_ref local_sha remote_ref remote_sha
do
    if [ "$remote_ref" = "refs/heads/main" ]; then
        echo ""
        echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
        echo "â•‘              âš ï¸  PUSHING TO MAIN BRANCH                     â•‘"
        echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
        echo ""
        echo "âš ï¸  You're about to push to the main branch!"
        echo ""
        echo "ğŸ” Pre-push checklist:"
        echo "   â˜ Did you test all existing features?"
        echo "   â˜ Did you test your new feature?"
        echo "   â˜ Are you ready for production deployment?"
        echo "   â˜ Do you have a rollback plan?"
        echo ""
        read -p "Continue pushing to main? (y/n) " -n 1 -r
        echo ""
        if [[ ! $REPLY =~ ^[Yy]$ ]]; then
            echo "âŒ Push cancelled"
            exit 1
        fi
        echo "âœ… Pushing to main..."
    fi
done

exit 0

